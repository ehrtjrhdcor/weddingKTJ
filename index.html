<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="모바일 청첩장">
    <title>청첩장</title>

    <!-- Open Graph 메타 태그 (링크 공유 시 썸네일) -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="김태진 ♥ 강소현 결혼합니다">
    <meta property="og:description" content="2026년 3월 22일 일요일 오후 3시 40분 | 서울 라마다 신도림 호텔 하늘정원홀">
    <meta property="og:image" content="images/IMG_8687_INV.jpg">
    <meta property="og:url" content="https://ehrtjrhdcor.github.io/weddingKTJ/">
    <link href="https://fonts.googleapis.com/css2?family=Gowun+Dodum&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Crimson+Pro:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">

    <!-- 네이버 지도 API -->
    <script type="text/javascript" src="https://oapi.map.naver.com/openapi/v3/maps.js?ncpClientId=t05lbfabps" defer></script>

    <!-- Kakao SDK -->
    <script src="https://t1.kakaocdn.net/kakao_js_sdk/2.7.2/kakao.min.js"></script>

    <!-- Firebase SDK -->
    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getFirestore, collection, addDoc, query, orderBy, onSnapshot, deleteDoc, doc, updateDoc } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';

        const firebaseConfig = {
            apiKey: "AIzaSyDVJ9RuiBfZ6XTGp3TqkzMvPko3irDYqOM",
            authDomain: "weddingktj.firebaseapp.com",
            projectId: "weddingktj",
            storageBucket: "weddingktj.firebasestorage.app",
            messagingSenderId: "258522141300",
            appId: "1:258522141300:web:ba8c5694d00a3c6bdd3721",
            measurementId: "G-FFKH8JHKK7"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        // 전역으로 사용할 수 있도록 window에 저장
        window.db = db;
        window.firestoreModules = { collection, addDoc, query, orderBy, onSnapshot, deleteDoc, doc, updateDoc };
    </script>
</head>
<body>
    <main id="content">
    <!-- 메인 헤더 -->
    <section class="hero">
        <img src="images/IMG_0523_MAIN.jpg" alt="Frame 3" class="frame-3-image">

        <!-- 인사말 -->
        <div class="greeting-content">
            <div class="container">
                <div class="invitation-label">INVITATION</div>
                <h1 class="invitation-title">저희 결혼합니다!</h1>
                <div class="greeting-text">
                    <p>평생을 함께할 사람을 만났습니다.</p>
                    <p>서로 사랑하고 존중하며</p>
                    <p>아름다운 가정을 이루고자 합니다.</p>
                    <p>저희 두 사람이 사랑의 이름으로 지켜나갈</p>
                    <p>아름다운 약속의 시작,</p>
                    <p>귀한 걸음으로 축복해 주시면 감사하겠습니다.</p>
                </div>
                <div class="greeting-divider"></div>
                <div class="greeting-names">
                    <p>김성한·조정애<span class="relation">의 장남</span> 김태진</p>
                    <p>강철우·고은숙<span class="relation">의 차녀</span> 강소현</p>
                </div>
            </div>
        </div>

        <!-- 달력 섹션 -->
        <div class="calendar-section">
            <div class="container">
                <div class="wedding-date-large">2026.03.22</div>
                <div class="wedding-time">일요일 오후 3시 40분</div>

                <div class="calendar-container">
                    <div class="calendar-header">
                        <span>일</span>
                        <span>월</span>
                        <span>화</span>
                        <span>수</span>
                        <span>목</span>
                        <span>금</span>
                        <span>토</span>
                    </div>
                    <div class="calendar-grid" id="calendarGrid">
                        <!-- 달력 날짜들이 여기에 동적으로 생성됩니다 -->
                    </div>
                </div>

                <div class="countdown-section">
                    <div class="countdown-labels">
                        <div class="countdown-label-item">
                            <div class="countdown-label">DAYS</div>
                            <div class="countdown-value" id="countdownDays">00</div>
                        </div>
                        <div class="countdown-separator">:</div>
                        <div class="countdown-label-item">
                            <div class="countdown-label">HOUR</div>
                            <div class="countdown-value" id="countdownHours">00</div>
                        </div>
                        <div class="countdown-separator">:</div>
                        <div class="countdown-label-item">
                            <div class="countdown-label">MIN</div>
                            <div class="countdown-value" id="countdownMinutes">00</div>
                        </div>
                        <div class="countdown-separator">:</div>
                        <div class="countdown-label-item">
                            <div class="countdown-label">SEC</div>
                            <div class="countdown-value" id="countdownSeconds">00</div>
                        </div>
                    </div>
                    <div class="wedding-day-message">태진, 소현의 결혼식이 <span class="wedding-day-count" id="weddingDayCount">0</span>일 남았습니다.</div>
                </div>
            </div>
        </div>
    </section>

    <!-- 갤러리 -->
    <section class="gallery">
        <div class="container">
            <div class="gallery-label">GALLERY</div>
            <h2 class="gallery-title">웨딩 갤러리</h2>
            <div class="gallery-wrapper">
                <div class="gallery-grid" id="galleryGrid">
                    <div class="gallery-item" onclick="openModal(0)">
                        <img src="images/IMG_0024.jpg" alt="웨딩 사진 1">
                    </div>
                    <div class="gallery-item" onclick="openModal(1)">
                        <img src="images/IMG_0509.jpg" alt="웨딩 사진 2">
                    </div>
                    <div class="gallery-item" onclick="openModal(2)">
                        <img src="images/IMG_0522.jpg" alt="웨딩 사진 3">
                    </div>
                <div class="gallery-item" onclick="openModal(3)">
                    <img src="images/IMG_0526.jpg" alt="웨딩 사진 4">
                </div>
                <div class="gallery-item gallery-item-hidden" onclick="openModal(4)">
                    <img src="images/IMG_0528.jpg" alt="웨딩 사진 5">
                </div>
                <div class="gallery-item gallery-item-hidden" onclick="openModal(5)">
                    <img src="images/IMG_0531.jpg" alt="웨딩 사진 6">
                </div>
                <div class="gallery-item gallery-item-hidden" onclick="openModal(6)">
                    <img src="images/IMG_0532.jpg" alt="웨딩 사진 7">
                </div>
                <div class="gallery-item gallery-item-hidden" onclick="openModal(7)">
                    <img src="images/IMG_0533.jpg" alt="웨딩 사진 8">
                </div>
                <div class="gallery-item gallery-item-hidden" onclick="openModal(8)">
                    <img src="images/IMG_0535.jpg" alt="웨딩 사진 9">
                </div>
                <div class="gallery-item gallery-item-hidden" onclick="openModal(9)">
                    <img src="images/IMG_0398.jpg" alt="웨딩 사진 10">
                </div>
                <div class="gallery-item gallery-item-hidden" onclick="openModal(10)">
                    <img src="images/IMG_0534.jpg" alt="웨딩 사진 11">
                </div>
                <div class="gallery-item gallery-item-hidden" onclick="openModal(11)">
                    <img src="images/IMG_0536.jpg" alt="웨딩 사진 12">
                </div>
                <div class="gallery-item gallery-item-hidden" onclick="openModal(12)">
                    <img src="images/IMG_0537.jpg" alt="웨딩 사진 13">
                </div>
                </div>
                <div class="gallery-fade-overlay" id="galleryFadeOverlay"></div>
            </div>
            <div class="gallery-more-container">
                <button class="gallery-more-btn" id="galleryMoreBtn" onclick="showMoreGallery()">
                    더보기 <img src="images/arrowdown.svg" alt="더보기" class="gallery-more-arrow">
                </button>
            </div>
        </div>
    </section>

    <!-- 이미지 모달 -->
    <div id="imageModal" class="modal">
        <span class="close" onclick="closeModal()">&times;</span>
        <img class="modal-content" id="modalImage">
        <div class="modal-nav">
            <button class="modal-prev" onclick="changeImage(-1)">&#10094;</button>
            <button class="modal-next" onclick="changeImage(1)">&#10095;</button>
        </div>
    </div>

    <!-- 비밀번호 확인 모달 -->
    <div id="passwordModal" class="password-modal" style="display: none;">
        <div class="password-modal-content">
            <h3 class="password-modal-title">비밀번호 확인</h3>
            <input type="password" id="passwordInput" class="password-modal-input" placeholder="비밀번호를 입력하세요" maxlength="20">
            <div class="password-modal-buttons">
                <button class="password-modal-btn cancel" onclick="closePasswordModal()">취소</button>
                <button class="password-modal-btn confirm" onclick="confirmPassword()">확인</button>
            </div>
        </div>
    </div>

    <!-- 오시는 길 -->
    <section class="location">
        <div class="container">
            <div class="location-label">LOCATION</div>
            <h2 class="location-title">오시는 길</h2>

            <div class="location-info">
                <h3 class="venue-name">서울 라마다 신도림 호텔 하늘정원홀</h3>
                <p class="venue-address">서울특별시 구로구 경인로 613 (구로동)</p>
                <p class="venue-phone">Tel. 02-2109-5000</p>
            </div>

            <div class="map-container">
                <div id="map" style="width:100%; height:400px;"></div>
            </div>

            <div class="navigation-section">
                <h3 class="navigation-title">내비게이션</h3>
                <p class="navigation-desc">원하시는 앱을 선택하시면 길안내가 시작됩니다.</p>
                <div class="navigation-buttons">
                    <button onclick="openNaverMap()" class="btn-nav naver">
                        <span class="nav-icon">
                            <img src="images/naver map.png" alt="네이버 지도 아이콘">
                        </span>
                        네이버지도
                    </button>
                    <button onclick="openGoogleMap()" class="btn-nav google">
                        <span class="nav-icon">
                            <img src="images/google map.png" alt="구글 지도 아이콘">
                        </span>
                        구글지도
                    </button>
                    <button onclick="openKakaoNavi()" class="btn-nav kakao">
                        <span class="nav-icon">
                            <img src="images/kakao map.png" alt="카카오 내비 아이콘">
                        </span>
                        카카오내비
                    </button>
                    <button onclick="openTmap()" class="btn-nav tmap">
                        <span class="nav-icon">
                            <img src="images/map.svg" alt="티맵 아이콘">
                        </span>
                        티맵
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- 신부측 피로연 -->
    <section class="reception">
        <div class="container">
            <div class="reception-label">RECEPTION</div>
            <h2 class="reception-title">신부측 피로연</h2>

            <div class="reception-info">
                <div class="reception-date">2026년 3월 15일 일요일</div>
                <div class="reception-time">오전 10시 - 오후 6시</div>
                <h3 class="reception-venue-name">선흘재</h3>
                <p class="reception-venue-address">제주시 조천읍 선진길 86</p>
            </div>
        </div>
    </section>

    <!-- 마음 전하실 곳 -->
    <section class="account">
        <div class="container">
            <div class="account-label">ACCOUNT</div>
            <h2 class="account-title">마음 전하실 곳</h2>

            <div class="account-message">
                <p>참석이 어려우신 분들을 위해</p>
                <p>계좌번호를 기재하였습니다.</p>
                <p>너그러운 마음으로 양해 부탁드립니다.</p>
            </div>

            <div class="account-sections">
                <div class="account-section-item" onclick="toggleAccountSection('groom')">
                    <span class="account-section-label">신랑측</span>
                    <span class="account-arrow" id="groomArrow">▼</span>
                </div>
                <div class="account-section-content" id="groomContent" style="display: none;">
                    <div class="account-details">
                        <p class="account-name">신랑 김태진</p>
                        <div class="account-bank-info">
                            <span class="bank-name">신한</span>
                            <span class="account-number">110-361-352913</span>
                            <span class="account-copy-icon" onclick="copyAccount('신한', '110-361-352913')"><img src="images/copy.svg" alt="복사"></span>
                            <span class="account-kakaopay-icon" onclick="sendKakaoPay('신한', '110361352913', '김태진')"><img src="images/kakaopay.svg" alt="카카오페이"></span>
                        </div>
                    </div>
                    <div class="account-details">
                        <p class="account-name">부 김성한</p>
                        <div class="account-bank-info">
                            <span class="bank-name">신한</span>
                            <span class="account-number">110-008-962948</span>
                            <span class="account-copy-icon" onclick="copyAccount('신한', '110-008-962948')"><img src="images/copy.svg" alt="복사"></span>
                            <span class="account-kakaopay-icon" onclick="sendKakaoPay('신한', '110008962948', '김성한')"><img src="images/kakaopay.svg" alt="카카오페이"></span>
                        </div>
                    </div>
                    <div class="account-details">
                        <p class="account-name">모 조정애</p>
                        <div class="account-bank-info">
                            <span class="bank-name">신한</span>
                            <span class="account-number">110-074-932060</span>
                            <span class="account-copy-icon" onclick="copyAccount('신한', '110-074-932060')"><img src="images/copy.svg" alt="복사"></span>
                            <span class="account-kakaopay-icon" onclick="sendKakaoPay('신한', '110074932060', '조정애')"><img src="images/kakaopay.svg" alt="카카오페이"></span>
                        </div>
                    </div>
                </div>

                <div class="account-section-item" onclick="toggleAccountSection('bride')">
                    <span class="account-section-label">신부측</span>
                    <span class="account-arrow" id="brideArrow">▼</span>
                </div>
                <div class="account-section-content" id="brideContent" style="display: none;">
                    <div class="account-details">
                        <p class="account-name">신부 강소현</p>
                        <div class="account-bank-info">
                            <span class="bank-name">신한</span>
                            <span class="account-number">110-477-443462</span>
                            <span class="account-copy-icon" onclick="copyAccount('신한', '110-477-443462')"><img src="images/copy.svg" alt="복사"></span>
                            <span class="account-kakaopay-icon" onclick="sendKakaoPay('신한', '110477443462', '강소현')"><img src="images/kakaopay.svg" alt="카카오페이"></span>
                        </div>
                    </div>
                    <div class="account-details">
                        <p class="account-name">부 강철우</p>
                        <div class="account-bank-info">
                            <span class="bank-name">농협</span>
                            <span class="account-number">352-0120-6922-73</span>
                            <span class="account-copy-icon" onclick="copyAccount('농협', '352-0120-6922-73')"><img src="images/copy.svg" alt="복사"></span>
                            <span class="account-kakaopay-icon" onclick="sendKakaoPay('농협', '3520120692273', '강철우')"><img src="images/kakaopay.svg" alt="카카오페이"></span>
                        </div>
                    </div>
                    <div class="account-details">
                        <p class="account-name">모 고은숙</p>
                        <div class="account-bank-info">
                            <span class="bank-name">농협</span>
                            <span class="account-number">980-02-066362</span>
                            <span class="account-copy-icon" onclick="copyAccount('농협', '980-02-066362')"><img src="images/copy.svg" alt="복사"></span>
                            <span class="account-kakaopay-icon" onclick="sendKakaoPay('농협', '98002066362', '고은숙')"><img src="images/kakaopay.svg" alt="카카오페이"></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 방명록 -->
    <section class="guestbook">
        <div class="guestbook-label">GUESTBOOK</div>
        <h2 class="guestbook-title">방명록</h2>

        <div class="guestbook-input-area">
            <div id="guestbookEmptyBox" class="guestbook-empty-box" onclick="showGuestbookForm()" style="display: none;">
                <div class="guestbook-empty-icon">✎</div>
                <div class="guestbook-empty-text">방명록 작성하기</div>
            </div>
            <div id="messageList" class="message-list">
                <!-- 메시지가 여기에 표시됩니다 -->
            </div>
            <div class="guestbook-more-container" id="guestbookMoreContainer" style="display: none;">
                <button class="guestbook-more-btn" id="guestbookMoreBtn" onclick="showMoreMessages()">
                    더보기 <span class="guestbook-more-arrow">▼</span>
                </button>
            </div>
        </div>

        <button class="guestbook-write-btn" onclick="showGuestbookForm()">
            작성하기
        </button>

        <div class="guestbook-form" id="guestbookForm" style="display: none;">
            <button type="button" class="guestbook-form-close" onclick="closeGuestbookForm()" aria-label="방명록 폼 닫기">&times;</button>
            <input type="text" id="guestName" placeholder="이름" maxlength="20">
            <input type="password" id="guestPassword" placeholder="비밀번호" maxlength="20">
            <textarea id="guestMessage" placeholder="축하 메시지를 남겨주세요" maxlength="200"></textarea>
            <button id="guestbookSubmitBtn" onclick="submitMessage()">메시지 남기기</button>
        </div>
    </section>

    <!-- 카카오톡 공유 -->
    <div class="kakao-share-section">
        <button onclick="shareKakao()" class="btn-kakao-share">
            <span class="kakao-icon"><img src="images/kakaotalk.svg" alt="카카오톡"></span>
            카카오톡으로 초대장 보내기
        </button>
    </div>
    </main>

    <script src="script.js"></script>
</body>
</html>
